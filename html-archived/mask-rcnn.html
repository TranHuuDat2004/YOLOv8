<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mask R-CNN: Instance Segmentation Deep Dive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #0f172a; color: #f8fafc; }
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .accent-gradient { background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%); }
        .mask-overlay { mix-blend-mode: multiply; opacity: 0.6; }
        .scan-animation {
            position: absolute;
            width: 100%;
            height: 2px;
            background: #38bdf8;
            box-shadow: 0 0 15px #38bdf8;
            animation: scan 3s infinite linear;
        }
        @keyframes scan {
            0% { top: 0%; }
            100% { top: 100%; }
        }
        .roi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2px;
        }
        .roi-cell { transition: all 0.3s ease; }
        .roi-cell:hover { background-color: #38bdf8 !important; transform: scale(1.1); z-index: 10; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Hero Section -->
    <header class="max-w-6xl mx-auto text-center mb-16 py-10">
        <div class="inline-block px-4 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-sm font-semibold mb-4 uppercase tracking-widest">
            Computer Vision Mastery
        </div>
        <h1 class="text-5xl md:text-6xl font-bold mb-6 tracking-tight">Mask R-CNN</h1>
        <p class="text-xl text-slate-400 max-w-3xl mx-auto">
            M·ªôt b∆∞·ªõc ti·∫øn v∆∞·ª£t b·∫≠c t·ª´ Object Detection sang <span class="text-blue-400 font-semibold">Instance Segmentation</span> - Hi·ªÉu r√µ h√¨nh d√°ng ƒë·∫øn t·ª´ng pixel.
        </p>
    </header>

    <main class="max-w-6xl mx-auto space-y-12">
        
        <!-- CV Spectrum Section -->
        <section class="grid md:grid-cols-4 gap-4">
            <div class="glass-card p-6 rounded-2xl text-center border-b-4 border-slate-500 hover:border-blue-500 transition-all cursor-default">
                <div class="text-2xl mb-2">üñºÔ∏è</div>
                <h4 class="font-bold">Classification</h4>
                <p class="text-xs text-slate-500 mt-2">C√≥ g√¨ trong ·∫£nh?</p>
            </div>
            <div class="glass-card p-6 rounded-2xl text-center border-b-4 border-slate-500 hover:border-indigo-500 transition-all cursor-default">
                <div class="text-2xl mb-2">üé≠</div>
                <h4 class="font-bold">Semantic Seg.</h4>
                <p class="text-xs text-slate-500 mt-2">V√πng n√†o l√† ng∆∞·ªùi?</p>
            </div>
            <div class="glass-card p-6 rounded-2xl text-center border-b-4 border-slate-500 hover:border-purple-500 transition-all cursor-default">
                <div class="text-2xl mb-2">üì¶</div>
                <h4 class="font-bold">Object Detection</h4>
                <p class="text-xs text-slate-500 mt-2">Ng∆∞·ªùi ƒë√≥ ·ªü ƒë√¢u?</p>
            </div>
            <div class="accent-gradient p-6 rounded-2xl text-center border-b-4 border-white shadow-lg shadow-blue-500/20">
                <div class="text-2xl mb-2">‚ú®</div>
                <h4 class="font-bold text-white">Instance Seg.</h4>
                <p class="text-xs text-blue-100 mt-2">T·ª´ng ng∆∞·ªùi ·ªü ƒë√¢u v√† h√¨nh d√°ng ra sao?</p>
            </div>
        </section>

        <!-- Architecture Overview -->
        <section class="glass-card rounded-3xl p-8 overflow-hidden relative">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h3 class="text-3xl font-bold mb-6">Ki·∫øn Tr√∫c ƒêa Nhi·ªám</h3>
                    <p class="text-slate-400 mb-6">Mask R-CNN m·ªü r·ªông Faster R-CNN b·∫±ng c√°ch th√™m m·ªôt nh√°nh song song ƒë·ªÉ d·ª± ƒëo√°n m·∫∑t n·∫° ph√¢n ƒëo·∫°n (mask) tr√™n t·ª´ng V√πng quan t√¢m (RoI).</p>
                    
                    <div class="space-y-4">
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-slate-800/50 border border-slate-700">
                            <div class="w-10 h-10 rounded-lg bg-blue-500 flex items-center justify-center font-bold">1</div>
                            <div>
                                <h5 class="font-bold">Backbone (ResNet/FPN)</h5>
                                <p class="text-xs text-slate-500">Tr√≠ch xu·∫•t b·∫£n ƒë·ªì ƒë·∫∑c tr∆∞ng (Feature Map).</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-slate-800/50 border border-slate-700">
                            <div class="w-10 h-10 rounded-lg bg-indigo-500 flex items-center justify-center font-bold">2</div>
                            <div>
                                <h5 class="font-bold">RPN & RoIAlign</h5>
                                <p class="text-xs text-slate-500">ƒê·ªÅ xu·∫•t v√πng v·∫≠t th·ªÉ v√† cƒÉn ch·ªânh pixel ch√≠nh x√°c.</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-4 p-4 rounded-xl bg-slate-800/50 border border-slate-700">
                            <div class="w-10 h-10 rounded-lg bg-emerald-500 flex items-center justify-center font-bold">3</div>
                            <div>
                                <h5 class="font-bold">Decoupled Heads</h5>
                                <p class="text-xs text-slate-500">T√°ch bi·ªát d·ª± ƒëo√°n L·ªõp, Box v√† Mask.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Interactive RoIAlign Demo -->
                <div class="bg-slate-900 rounded-2xl p-6 border border-slate-700">
                    <h4 class="text-center font-bold text-blue-400 mb-4 uppercase text-sm tracking-widest">S·ª©c m·∫°nh c·ªßa RoIAlign</h4>
                    <div class="relative aspect-square max-w-[300px] mx-auto mb-6">
                        <!-- Grid simulating pixel precision -->
                        <div class="absolute inset-0 roi-grid">
                            <script>
                                for(let i=0; i<16; i++) {
                                    document.write('<div class="roi-cell bg-slate-800/50 border border-slate-700/50 rounded-sm"></div>');
                                }
                            </script>
                        </div>
                        <!-- Misaligned RoI (Red) vs Aligned (Blue) -->
                        <div class="absolute top-[15%] left-[15%] w-[60%] h-[60%] border-2 border-red-500/50 border-dashed rounded-sm flex items-center justify-center">
                            <span class="text-[10px] text-red-500 font-mono -mt-10">RoIPool (L·ªách)</span>
                        </div>
                        <div id="aligned-box" class="absolute top-[18.5%] left-[18.5%] w-[55%] h-[55%] border-2 border-blue-400 bg-blue-400/10 rounded-sm flex items-center justify-center transition-all duration-1000">
                            <span class="text-[10px] text-blue-400 font-bold">RoIAlign (Chu·∫©n)</span>
                        </div>
                    </div>
                    <p class="text-center text-xs text-slate-500 italic">RoIAlign s·ª≠ d·ª•ng Bilinear Interpolation ƒë·ªÉ tr√°nh l√†m tr√≤n t·ªça ƒë·ªô, gi·ªØ nguy√™n ƒë·ªô ch√≠nh x√°c kh√¥ng gian cho vi·ªác v·∫Ω Mask.</p>
                </div>
            </div>
        </section>

        <!-- Live Demo Simulation -->
        <section class="space-y-6">
            <div class="flex justify-between items-end">
                <div>
                    <h3 class="text-3xl font-bold">Tr√¨nh Di·ªÖn Instance Segmentation</h3>
                    <p class="text-slate-400">M√¥ ph·ªèng c√°ch m√¥ h√¨nh x√°c ƒë·ªãnh t·ª´ng th·ª±c th·ªÉ ri√™ng bi·ªát.</p>
                </div>
                <button onclick="startInference()" class="px-8 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl shadow-lg shadow-blue-900/40 transition-all active:scale-95">
                    üöÄ Run Inference
                </button>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <!-- Source Image -->
                <div class="relative overflow-hidden rounded-2xl border-2 border-slate-700 group">
                    <img id="source-img" src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?auto=format&fit=crop&w=800&q=80" class="w-full grayscale group-hover:grayscale-0 transition-all duration-700" alt="Input">
                    <div id="scanner" class="hidden scan-animation"></div>
                    <div class="absolute bottom-4 left-4 bg-black/60 backdrop-blur px-3 py-1 rounded text-xs font-mono">INPUT_IMAGE.JPG</div>
                </div>

                <!-- Result Image -->
                <div id="result-container" class="relative overflow-hidden rounded-2xl border-2 border-slate-700 bg-slate-900">
                    <div id="placeholder-text" class="absolute inset-0 flex items-center justify-center text-slate-600 font-medium">
                        Ch·ªù x·ª≠ l√Ω...
                    </div>
                    <div id="results" class="hidden relative h-full w-full">
                        <img src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?auto=format&fit=crop&w=800&q=80" class="w-full opacity-80" alt="Output">
                        
                        <!-- Mock Masks and Boxes -->
                        <!-- Person 1 -->
                        <div class="inference-result absolute top-[20%] left-[10%] w-[30%] h-[60%] border-2 border-yellow-400 rounded-lg">
                            <span class="absolute -top-6 left-0 bg-yellow-400 text-black text-[10px] px-2 py-0.5 font-bold rounded">PERSON 98.2%</span>
                            <div class="absolute inset-0 bg-yellow-400/30 mask-overlay rounded-lg"></div>
                        </div>
                        <!-- Person 2 -->
                        <div class="inference-result absolute top-[15%] left-[45%] w-[25%] h-[70%] border-2 border-blue-400 rounded-lg" style="animation-delay: 0.2s">
                            <span class="absolute -top-6 left-0 bg-blue-400 text-white text-[10px] px-2 py-0.5 font-bold rounded">PERSON 96.5%</span>
                            <div class="absolute inset-0 bg-blue-400/30 mask-overlay rounded-lg"></div>
                        </div>
                        <!-- Laptop -->
                        <div class="inference-result absolute top-[60%] left-[30%] w-[40%] h-[25%] border-2 border-emerald-400 rounded-lg" style="animation-delay: 0.4s">
                            <span class="absolute -top-6 left-0 bg-emerald-400 text-black text-[10px] px-2 py-0.5 font-bold rounded">LAPTOP 91.1%</span>
                            <div class="absolute inset-0 bg-emerald-400/30 mask-overlay rounded-lg"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Applications Grid -->
        <section class="py-12">
            <h3 class="text-2xl font-bold mb-8 text-center">·ª®ng D·ª•ng Th·ª±c T·∫ø</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="glass-card p-6 rounded-2xl hover:bg-slate-800 transition-colors">
                    <div class="text-3xl mb-4 text-blue-400">üè•</div>
                    <h5 class="font-bold mb-2">Y t·∫ø</h5>
                    <p class="text-xs text-slate-500">Ph√¢n ƒëo·∫°n kh·ªëi u v√† t·∫ø b√†o trong ·∫£nh MRI/CT.</p>
                </div>
                <div class="glass-card p-6 rounded-2xl hover:bg-slate-800 transition-colors">
                    <div class="text-3xl mb-4 text-blue-400">üöó</div>
                    <h5 class="font-bold mb-2">T·ª± l√°i</h5>
                    <p class="text-xs text-slate-500">Nh·∫≠n di·ªán l√†n ƒë∆∞·ªùng, xe c·ªô v√† ng∆∞·ªùi ƒëi b·ªô.</p>
                </div>
                <div class="glass-card p-6 rounded-2xl hover:bg-slate-800 transition-colors">
                    <div class="text-3xl mb-4 text-blue-400">üõ°Ô∏è</div>
                    <h5 class="font-bold mb-2">An ninh</h5>
                    <p class="text-xs text-slate-500">Theo d√µi ƒë·ªëi t∆∞·ª£ng trong ƒë√°m ƒë√¥ng ph·ª©c t·∫°p.</p>
                </div>
                <div class="glass-card p-6 rounded-2xl hover:bg-slate-800 transition-colors">
                    <div class="text-3xl mb-4 text-blue-400">‚öôÔ∏è</div>
                    <h5 class="font-bold mb-2">C√¥ng nghi·ªáp</h5>
                    <p class="text-xs text-slate-500">Ki·ªÉm tra l·ªói b·ªÅ m·∫∑t linh ki·ªán ch√≠nh x√°c cao.</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="mt-20 py-10 border-t border-slate-800 text-center text-slate-500 text-sm">
        <p>B√°o c√°o d·ª± √°n: Mask R-CNN Deep Dive</p>
        <p class="mt-2">Th·ª±c hi·ªán b·ªüi: Tran Huu Dat</p>
    </footer>

    <script>
        function startInference() {
            const scanner = document.getElementById('scanner');
            const placeholder = document.getElementById('placeholder-text');
            const results = document.getElementById('results');
            const sourceImg = document.getElementById('source-img');
            
            // UI Reset
            scanner.classList.remove('hidden');
            results.classList.add('hidden');
            placeholder.classList.remove('hidden');
            placeholder.innerText = "ƒêang ch·∫°y RPN & RoIAlign...";
            sourceImg.classList.remove('grayscale');

            setTimeout(() => {
                placeholder.innerText = "ƒêang t·∫°o Masks (FCN Head)...";
            }, 1500);

            setTimeout(() => {
                scanner.classList.add('hidden');
                placeholder.classList.add('hidden');
                results.classList.remove('hidden');
                
                // Animate individual results
                const items = document.querySelectorAll('.inference-result');
                items.forEach((item, idx) => {
                    item.style.opacity = '0';
                    item.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        item.style.transition = 'all 0.5s ease';
                        item.style.opacity = '1';
                        item.style.transform = 'scale(1)';
                    }, idx * 200);
                });
            }, 3000);
        }

        // Pulse the RoIAlign Demo
        setInterval(() => {
            const box = document.getElementById('aligned-box');
            box.style.transform = (box.style.transform === 'scale(1.05)') ? 'scale(1)' : 'scale(1.05)';
        }, 2000);
    </script>
</body>
</html>